{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/data-science-programming/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Statistical Modelling"}},"markdownRemark":{"id":"69e8f049-8129-5b25-8de5-b536e9b032c4","excerpt":"Accessing and Defining Vectors Using R, there are numerous different ways of defining a vector… In addition, there are different ways to access vectors using…","html":"<h2>Accessing and Defining Vectors</h2>\n<ul>\n<li>Using R, there are numerous different ways of defining a vector…</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">rep<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 3 3 3 3</span>\r\n\r\n<span class=\"token number\">4</span><span class=\"token operator\">:</span><span class=\"token number\">7</span> <span class=\"token comment\"># 4 5 6 7</span>\r\n\r\nseq<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 4 5 6 7</span>\r\n\r\nseq<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> by<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 0 2 4 6 8 10</span>\r\n\r\nseq<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> length.out<span class=\"token operator\">=</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 0.0 0.5 1.0 1.5 2.0 2.5 3.0</span></code></pre></div>\n<ul>\n<li>In addition, there are different ways to access vectors using</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">myData <span class=\"token comment\"># 2 3 5 8</span>\r\n\r\nmyData<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># 3</span>\r\n\r\nmyData<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># 2 3 8</span>\r\n\r\nmyData<span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># 2 8</span>\r\n\r\nmyData<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token operator\">:</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># 3 5 8</span></code></pre></div>\n<h2>Some essential built-in functions</h2>\n<ul>\n<li>Whenever you want to learn more about a method/function in R you can type <code class=\"language-text\">?[methodName]</code> in the console.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">sort\r\n\r\nrank <span class=\"token comment\"># rank of each element</span>\r\n\r\norder <span class=\"token comment\"># indices of elements in order</span>\r\n\r\nunique <span class=\"token comment\"># removes duplicates</span>\r\n\r\ntable <span class=\"token comment\"># counts of each element's occurrences</span>\r\n\r\nlength\r\n\r\nsample <span class=\"token comment\"># randomly sample elements from vector</span>\r\n\r\npaste <span class=\"token comment\"># concatenate a textual representation of vectors together</span></code></pre></div>\n<p><em>Simulate throwing a dice 200 times and get counts of the total number of each face</em></p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">table<span class=\"token punctuation\">(</span>sample<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> replace <span class=\"token operator\">=</span> <span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\"># eg.  1  2  3  4  5  6</span>\r\n<span class=\"token comment\">#      38 26 35 37 27 37</span></code></pre></div>\n<p><em>Bootstrap resampling a vector</em></p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">x <span class=\"token operator\">&lt;-</span> <span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token number\">100</span>\r\n\r\ny <span class=\"token operator\">&lt;-</span> sample<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> replace<span class=\"token operator\">=</span><span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>Data frames</h2>\n<ul>\n<li>Data frames allow us to represent a <em>design matrix</em>; so a <code class=\"language-text\">data.frame</code> in R is essentially a <em>design matrix</em>.</li>\n</ul>\n<ul>\n<li><em>We can create a data frame manually in R</em></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">X <span class=\"token operator\">&lt;-</span> data.frame<span class=\"token punctuation\">(</span>Height <span class=\"token operator\">=</span> c<span class=\"token punctuation\">(</span><span class=\"token number\">147</span><span class=\"token punctuation\">,</span> <span class=\"token number\">150</span><span class=\"token punctuation\">,</span> <span class=\"token number\">152</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n                Weight <span class=\"token operator\">=</span> c<span class=\"token punctuation\">(</span><span class=\"token number\">52.2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">53.1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">54.4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><em>Note: These will usually be done via a <code class=\"language-text\">.csv</code> file instaed</em></p>\n<h3>Accessing data frames</h3>\n<img src=\"/c863d79f7431e21fcb031a9af303ac78/data-frame-access.png\" alt=\"data frame access\" width=\"600\">\n<ul>\n<li>Here are some equivalent ways of accessing data frames in R</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">hw<span class=\"token operator\">$</span>Height\r\nhw<span class=\"token punctuation\">[</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># first column</span>\r\n\r\nhw<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># third row</span>\r\n\r\nhw<span class=\"token punctuation\">[</span>hw<span class=\"token operator\">$</span>Weight <span class=\"token operator\">></span> <span class=\"token number\">50</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># filtered (but better ways to do this later)</span>\r\nhw<span class=\"token punctuation\">[</span>sample<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>nrow<span class=\"token punctuation\">(</span>hw<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># random selection of columns</span></code></pre></div>\n<ul>\n<li>We can also use factors when accessing data frames</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">chickwts<span class=\"token punctuation\">[</span>chickwts<span class=\"token operator\">$</span>feed <span class=\"token percent-operator operator\">%in%</span> c<span class=\"token punctuation\">(</span><span class=\"token string\">\"sunflower\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"linseed\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>Workflow in R…</li>\n</ul>\n<img src=\"/5a2e45fdbb85024f6cea4a3369120526/r-workflow.png\" alt=\"R workflow\" width=\"600\">\n<h3>Useful functions when working with data frames</h3>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">names<span class=\"token punctuation\">(</span>hw<span class=\"token punctuation\">)</span> <span class=\"token comment\"># list of the data frame variables</span>\r\n\r\ndim<span class=\"token punctuation\">(</span>hw<span class=\"token punctuation\">)</span> <span class=\"token comment\"># dimension of the data frame</span>\r\n\r\nnrow<span class=\"token punctuation\">(</span>hw<span class=\"token punctuation\">)</span> <span class=\"token comment\"># no. of rows</span>\r\nncol<span class=\"token punctuation\">(</span>hw<span class=\"token punctuation\">)</span>\r\n\r\nhead<span class=\"token punctuation\">(</span>hw<span class=\"token punctuation\">)</span> <span class=\"token comment\"># get first 6 entries</span>\r\n\r\nsummary<span class=\"token punctuation\">(</span>hw<span class=\"token punctuation\">)</span> <span class=\"token comment\"># key information</span>\r\n\r\nstr<span class=\"token punctuation\">(</span>hw<span class=\"token punctuation\">)</span> <span class=\"token comment\"># convert to string</span></code></pre></div>\n<ul>\n<li>other useful self-explanatory functions: <code class=\"language-text\">colMeans, rowMeans, colSums, rowSums, cov, cor, scale, ...</code></li>\n</ul>\n<ul>\n<li>We can also add new variables to a data frame by using the accessor notation then just adding a new one that doesn’t already exist in the data frame:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">hw<span class=\"token operator\">$</span>BMI3D <span class=\"token operator\">=</span> <span class=\"token number\">1.3</span><span class=\"token operator\">*</span>hw<span class=\"token operator\">$</span>Weight<span class=\"token operator\">/</span><span class=\"token punctuation\">(</span>hw<span class=\"token operator\">$</span>Height<span class=\"token operator\">/</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token operator\">^</span><span class=\"token number\">2.5</span></code></pre></div>\n<h3>Omitting missing data</h3>\n<ul>\n<li>In R, there are two ways to remove <code class=\"language-text\">NA</code> values from a data set</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">mean<span class=\"token punctuation\">(</span>chickwts<span class=\"token operator\">$</span>weight<span class=\"token punctuation\">,</span> na.rm <span class=\"token operator\">=</span> <span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 1</span>\r\n\r\nmean<span class=\"token punctuation\">(</span>na.omit<span class=\"token punctuation\">(</span>chickwts<span class=\"token operator\">$</span>weight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 2</span></code></pre></div>\n<h3>Lists in R</h3>\n<ul>\n<li>In R, lists can hold multiple different data types</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">x <span class=\"token operator\">&lt;-</span> list<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> data.frame<span class=\"token punctuation\">(</span>a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> b <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token operator\">:</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Plotting in R</h3>\n<ul>\n<li>Using the default <code class=\"language-text\">plot</code> function we can achieve a lot in R…</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">data<span class=\"token punctuation\">(</span><span class=\"token string\">\"diamonds\"</span><span class=\"token punctuation\">,</span> package <span class=\"token operator\">=</span> <span class=\"token string\">\"ggplot2\"</span><span class=\"token punctuation\">)</span>\r\n\r\nplot<span class=\"token punctuation\">(</span>diamonds<span class=\"token operator\">$</span>carat<span class=\"token punctuation\">,</span> diamonds<span class=\"token operator\">$</span>price<span class=\"token punctuation\">)</span>\r\n\r\nplot<span class=\"token punctuation\">(</span>diamonds<span class=\"token operator\">$</span>carat<span class=\"token punctuation\">,</span> diamonds<span class=\"token operator\">$</span>price<span class=\"token punctuation\">,</span> pch <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\r\n\r\nplot<span class=\"token punctuation\">(</span>diamonds<span class=\"token operator\">$</span>carat<span class=\"token punctuation\">,</span> diamonds<span class=\"token operator\">$</span>price<span class=\"token punctuation\">,</span>\r\n     pch <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> xlim <span class=\"token operator\">=</span> c<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ylim <span class=\"token operator\">=</span> c<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n\r\nplot<span class=\"token punctuation\">(</span>diamonds<span class=\"token operator\">$</span>carat<span class=\"token punctuation\">,</span> diamonds<span class=\"token operator\">$</span>price<span class=\"token punctuation\">,</span> pch <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\r\n     main <span class=\"token operator\">=</span> <span class=\"token string\">\"Dollar price against carat\"</span><span class=\"token punctuation\">,</span>\r\n     xlab <span class=\"token operator\">=</span> <span class=\"token string\">\"Carats\"</span><span class=\"token punctuation\">,</span> ylab <span class=\"token operator\">=</span> <span class=\"token string\">\"Price in $\"</span><span class=\"token punctuation\">)</span>\r\n\r\nabline<span class=\"token punctuation\">(</span>lm<span class=\"token punctuation\">(</span>price <span class=\"token operator\">~</span> carat<span class=\"token punctuation\">,</span> diamonds<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n       col <span class=\"token operator\">=</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">)</span>\r\n\r\nlines<span class=\"token punctuation\">(</span>lowess<span class=\"token punctuation\">(</span>diamonds<span class=\"token operator\">$</span>carat<span class=\"token punctuation\">,</span> diamonds<span class=\"token operator\">$</span>price<span class=\"token punctuation\">,</span> f <span class=\"token operator\">=</span> <span class=\"token number\">0.05</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n      col <span class=\"token operator\">=</span> <span class=\"token string\">\"green\"</span><span class=\"token punctuation\">)</span>\r\n\r\npairs<span class=\"token punctuation\">(</span>mtcars<span class=\"token punctuation\">)</span> <span class=\"token comment\"># grid of all pairwise scatter plots</span></code></pre></div>\n<h4>Creating multiple plots on the same area</h4>\n<p>In R, we can create multiple plots on the same figure by using the <code class=\"language-text\">par</code> command.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># divides into 2 plot areas</span>\r\npar<span class=\"token punctuation\">(</span>mfrow <span class=\"token operator\">=</span> c<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\nplot<span class=\"token punctuation\">(</span>movies<span class=\"token operator\">$</span>length<span class=\"token punctuation\">,</span> movies<span class=\"token operator\">$</span>budget<span class=\"token punctuation\">)</span>\r\nboxplot<span class=\"token punctuation\">(</span>movies<span class=\"token operator\">$</span>length<span class=\"token punctuation\">)</span>\r\npar<span class=\"token punctuation\">(</span>mfrow <span class=\"token operator\">=</span> c<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Tidy data in R</h3>\n<ul>\n<li>We can use <code class=\"language-text\">Tidyverse</code> in R which allows us to create “tidy” data.</li>\n<li>Data is in “tidy” form when\n<ul>\n<li>each variable is in a column</li>\n<li>each observation is in a row</li>\n<li>each type of observation unit forms a table</li>\n</ul>\n</li>\n<li>When data is “tidy” it is easier to to further manipulation with</li>\n</ul>\n<h4>Wide vs Long Data</h4>\n<ul>\n<li>If data is too “wide”, one variable is actually spread over multiple columns</li>\n</ul>\n<img src=\"/a9fa0ce988d08fc078371ea83884b07b/wide_data.png\" alt=\"Wide data\" width=\"600\">\n<ul>\n<li>If data is too “long”, one observation is actually spread over multiple rows</li>\n</ul>\n<img src=\"/a714d73c09a4e53384e5d5be016fd77f/long_data.png\" alt=\"Long data\" width=\"600\">\n<p>We have two key functions for dealing with these problems: <code class=\"language-text\">pivot_longer</code> and <code class=\"language-text\">pivot_wider</code>.</p>\n<h4><code class=\"language-text\">pivot_longer</code></h4>\n<ul>\n<li>Gathers multiple columns into key-value pairs, essentially makes wide data longer</li>\n</ul>\n<img src=\"/3823d6b6136d0a79a6aa23971467bf4f/pivot_longer.png\" alt=\"pivot longer\" width=\"600\">\n<h4><code class=\"language-text\">pivot_wider</code></h4>\n<ul>\n<li>Gather multiple rows into key-value pairs, makes long data wider</li>\n</ul>\n<img src=\"/615186905ee7ea891538a2c99014a627/pivot_wider.png\" alt=\"pivot wider\" width=\"600\">\n<h3>Useful tidyr functions</h3>\n<img src=\"/4cffeab6c626a9993a72e4646c3aa5e7/fball.png\" alt=\"Fball data\" width=\"400\">\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">separate<span class=\"token punctuation\">(</span>fball<span class=\"token punctuation\">,</span> <span class=\"token string\">\"score\"</span><span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">(</span><span class=\"token string\">\"home_goals\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"away_goals\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>This function allows us to separate the “score” column into two separate columns (one for home goals and the other for away goals)</li>\n</ul>\n<h3>Data manipulation (dplyr)</h3>\n<ul>\n<li>There are several main very important functions in the <code class=\"language-text\">dplyr</code> library</li>\n</ul>\n<ol>\n<li><code class=\"language-text\">filter()</code> => separate conditions via <code class=\"language-text\">&amp;</code> and <code class=\"language-text\">|</code></li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">filter<span class=\"token punctuation\">(</span>fball<span class=\"token punctuation\">,</span> home <span class=\"token operator\">==</span> <span class=\"token string\">\"Chelsea\"</span> <span class=\"token operator\">|</span> away <span class=\"token operator\">==</span> <span class=\"token string\">\"Chelsea\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ol start=\"2\">\n<li><code class=\"language-text\">arrange()</code> => reorder rows</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">arrange<span class=\"token punctuation\">(</span>who<span class=\"token punctuation\">,</span> year<span class=\"token punctuation\">,</span> desc<span class=\"token punctuation\">(</span>country<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>We can use the <code class=\"language-text\">desc()</code> parameter to sort in descending order</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">flights <span class=\"token operator\">|</span><span class=\"token operator\">></span>\r\n  filter<span class=\"token punctuation\">(</span>is.na<span class=\"token punctuation\">(</span>dep_time<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span><span class=\"token operator\">></span>\r\n  mutate<span class=\"token punctuation\">(</span>sched_dep_time <span class=\"token operator\">=</span> floor<span class=\"token punctuation\">(</span>sched_dep_time<span class=\"token operator\">/</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span><span class=\"token operator\">></span>\r\n  group_by<span class=\"token punctuation\">(</span>sched_dep_time<span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span><span class=\"token operator\">></span>\r\n  summarise<span class=\"token punctuation\">(</span>cancelled <span class=\"token operator\">=</span> n<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span><span class=\"token operator\">></span>\r\n  arrange<span class=\"token punctuation\">(</span>desc<span class=\"token punctuation\">(</span>cancelled<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Joining data frames</h3>\n<img src=\"/534f8069c0264079d0c876f63eafdd54/joining_data_frames.png\" alt=\"Joining data frames\" width=\"600\">\n<ul>\n<li>Note: we could also use <code class=\"language-text\">rbind()</code> and <code class=\"language-text\">cbind()</code> to perform similar tasks but these are often error prone, so it is generally better to use the methods above when possible.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">rbind<span class=\"token punctuation\">(</span>who_cases<span class=\"token punctuation\">,</span> who_population<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Advanced plotting in R (ggplot)</h3>\n<ul>\n<li>We use the <code class=\"language-text\">ggplot()</code> function in R to do any plot, where we have the arguments <code class=\"language-text\">data</code> and <code class=\"language-text\">mappings</code>\n<ul>\n<li>mappings are always specified by a call to <code class=\"language-text\">aes()</code></li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">data<span class=\"token punctuation\">(</span><span class=\"token string\">\"diamonds\"</span><span class=\"token punctuation\">,</span> package <span class=\"token operator\">=</span> <span class=\"token string\">\"ggplot2\"</span><span class=\"token punctuation\">)</span>\r\n\r\nggplot<span class=\"token punctuation\">(</span>diamonds<span class=\"token punctuation\">,</span> aes<span class=\"token punctuation\">(</span>x <span class=\"token operator\">=</span> carat<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> price<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>This is good, but we haven’t specified what plot to do, only the data has been given. Hence, we need to use “Geoms” to specify this.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">ggplot<span class=\"token punctuation\">(</span>diamonds<span class=\"token punctuation\">,</span> aes<span class=\"token punctuation\">(</span>x <span class=\"token operator\">=</span> carat<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> price<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\r\n  geom_point<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>Geoms inherit the <code class=\"language-text\">data</code> and <code class=\"language-text\">mapping</code> from the original plot, and each geom will build up layers in the order that you call them.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">ggplot<span class=\"token punctuation\">(</span>diamonds<span class=\"token punctuation\">,</span> aes<span class=\"token punctuation\">(</span>x <span class=\"token operator\">=</span> carat<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> price<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\r\n  geom_point<span class=\"token punctuation\">(</span>aes<span class=\"token punctuation\">(</span>colour <span class=\"token operator\">=</span> cut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><em>The above figure adds colour to the plot; the cuts are colour coded</em></p>\n<ul>\n<li>We can combine multiple geoms together</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">ggplot<span class=\"token punctuation\">(</span>diamonds<span class=\"token punctuation\">,</span> aes<span class=\"token punctuation\">(</span>x <span class=\"token operator\">=</span> carat<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> price<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\r\n  geom_point<span class=\"token punctuation\">(</span>aes<span class=\"token punctuation\">(</span>colour <span class=\"token operator\">=</span> cut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> size <span class=\"token operator\">=</span> <span class=\"token number\">0.2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\r\n  geom_smooth<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><em>Note: <code class=\"language-text\">geom_smooth</code> adds a smoothing line, so we can more easily see any trends in the data.</em></p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">ggplot<span class=\"token punctuation\">(</span>diamonds<span class=\"token punctuation\">,</span> aes<span class=\"token punctuation\">(</span>x <span class=\"token operator\">=</span> carat<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> price<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\r\n  geom_point<span class=\"token punctuation\">(</span>aes<span class=\"token punctuation\">(</span>colour <span class=\"token operator\">=</span> cut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> size <span class=\"token operator\">=</span> <span class=\"token number\">0.2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\r\n  geom_smooth<span class=\"token punctuation\">(</span>aes<span class=\"token punctuation\">(</span>colour <span class=\"token operator\">=</span> cut<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\r\n  xlab<span class=\"token punctuation\">(</span><span class=\"token string\">\"Number of carats\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> ylab<span class=\"token punctuation\">(</span><span class=\"token string\">\"Price in $\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>Some more examples…</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">ggplot<span class=\"token punctuation\">(</span>diamonds<span class=\"token punctuation\">,</span> aes<span class=\"token punctuation\">(</span>x <span class=\"token operator\">=</span> carat<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> price<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\r\n  geom_hex<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\r\nggplot<span class=\"token punctuation\">(</span>diamonds<span class=\"token punctuation\">,</span> aes<span class=\"token punctuation\">(</span>x <span class=\"token operator\">=</span> cut<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> carat<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\r\n  geom_boxplot<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h4>Faceting</h4>\n<ul>\n<li>Faceting enables splitting the data into multiple plots according to a categorical variable\n<ul>\n<li><code class=\"language-text\">facet_wrap</code> - splits a single variable ( ~ var )</li>\n<li><code class=\"language-text\">facet_grid</code> - two variable split ( rows_var ~ cols_var )</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># 1. facet_wrap</span>\r\nggplot<span class=\"token punctuation\">(</span>mtcars<span class=\"token punctuation\">,</span> aes<span class=\"token punctuation\">(</span>x <span class=\"token operator\">=</span> hp<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> mpg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\r\n  facet_wrap<span class=\"token punctuation\">(</span><span class=\"token operator\">~</span> gear<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\r\n  geom_point<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token comment\"># 2. facet_grid</span>\r\nggplot<span class=\"token punctuation\">(</span>mtcars<span class=\"token punctuation\">,</span> aes<span class=\"token punctuation\">(</span>x <span class=\"token operator\">=</span> hp<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> mpg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\r\n  facet_grid<span class=\"token punctuation\">(</span>cyl <span class=\"token operator\">~</span> gear<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\r\n  geom_point<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"Data Science","date":"February 23, 2022","description":"An overview of the key parts to programming in Data Science"}},"previous":{"fields":{"slug":"/linear-models/"},"frontmatter":{"title":"Linear Models"}},"next":null},"pageContext":{"id":"69e8f049-8129-5b25-8de5-b536e9b032c4","previousPostId":"be2cad4e-16ce-50bc-a7a5-a862577e13de","nextPostId":null}},
    "staticQueryHashes": ["2841359383","3257411868"]}